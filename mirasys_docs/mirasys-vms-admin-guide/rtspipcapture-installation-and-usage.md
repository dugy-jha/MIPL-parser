# RTSPIPCapture installation and usage | Mirasys Help Center

Source: https://documentation.mirasys.com/mirasys-vms-admin-guide/V9.9/rtspipcapture-installation-and-usage

RTSPIPCapture installation and usage

The driver uses RTSP/RTP/UDP/IP protocols for receiving video stream from IP devices.

The driver expects RTP or RTSP URI for adding of the device. This URI should be placed in "IP Address" field.

The required port may be specified separately in "Port" field or may be included in RTSP/RTP URI. RTSP URI port has higher priority, if it is set, VMS port field will be ignored.

The stream URI requirements:

The RTSP URI should be specified in full format, e.g.: rtsp://192.168.1.70:554/?h264x=0

For cameras that send several video streams (like ACTi) correct track ID should also be specified: rtsp://192.168.1.75:7070/track1

The RTP streaming devices should also have correct prefix: rtp://62.97.61.37:15000/

The RTP steam URI also accepts multicast addresses: rtp://239.232.192.255:20000/

Please note, that stream URI may be checked over third-party player, like VLC or QuickTime

If there is a firewall between VMS and the cameras, the following ports must be opened:

RTSP: default port is 554,

UDP: two sequential ports per video stream are needed in a port range 3556 to 4556 for RTSP mode. The specified in parameters port should be opened for RTP streaming mode.

For example: if there are 2 IP cameras in a VMS, then ports 3556, 3557, 3558, and 3559 will be used for RTSP sessions. If a port is not free, it will be skipped.

The RTSP streaming may also be configured via RTSPIPCapture.xml configuration file. It allows to change the following options:

RTP video transport. The following types are supported: RTPoverUDP and RTPoverRTSP
<RTPMode>RTPoverRTSP</RTPMode>

Keep-alive messages disabling. A few devices may not support keep-alive processing, so it may be disabled by 0 option specifying <KeepAlive>1</KeepAlive> These values can be set to each device separately.

The lip sync tracing can be enabled using the following option: <LogLevel>4</LogLevel>

Limitations

If camera requires RTSP authorization, correct user name and password should be set, in other case it will be no video.

RTP mode notes:

The RTP video streaming IP devices should be able to send SPS and PPS headers in the stream. The driver will not be able to decode H.264 stream correctly without these headers.

The driver is unable to start RTP streaming by itself - it uses only RTP stream that continuously generated by the device.

Audio synchronization using RTCP may NOT work in following cases:

if the device will send RTCP report after data packet;

for the RTP over RTSP mode;

  In case if RTCP synchronization is available you may find the following messages in the DVRLog.txt:

    "Video frame time was synchronized by RTCP successfully"

MPEG2 TS format notes

Version 1.2.0.0 of the driver supports only H.264 and AAC codecs for the MPEG2 TS format.

It is not possible to receive only video or audio stream because they transmitted over single RTP stream.

Audio channel will be detected for all devices which MPEG2 TS format (MPEG II transport stream).

      Please set the following value to "false" to disable audio on selected device:

XML
        <AudioChannel>

          <Enabled>false</Enabled> 

        </AudioChannel>


The Windows XP is not supported since driver version 1.0.1.5

Pagination
Previous page
PSIAIPCapture installation and usage
Next page
SIPIPCapture installation and usage